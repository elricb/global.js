<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Test Global.js</title>
<script>
lib = [
    "http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js", //0
    "http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js",  //1
    "http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js",  //2
    "http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js",  //3
    "http://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js",  //4
    "http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js",  //5
    "http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js",  //6
    "http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js",  //7
];
document.write(
    "<s"+"cript src=\""+ lib[7] +"\"><"+"/script>"
);
</script>

<script src="../objects/Cast.js"></script>
<script src="../objects/Elements.js"></script>

<script>
    $(document).ready(function(){
        function stringifyO(o)
        {
            s = [];
            for (var i in o)
                s.push(i+":"+typeof o);
            return s.join();
        }
        
        d = $("#content");
        
        o = Cast.cpromise(Elements.resize($("#content"), "1%", null, 1000)).done(function(){
            console.log("done resize");
            //Elements.resize($("#content"), "100%", null);
        }); //jQuery("#content").animate({"width":"1%"}).promise();

        //if (! Cast.isFunction(jQuery.fn.on))
        //    jQuery.fn.on = jQuery.fn.live;
        if (Cast.isFunction(jQuery.fn.on))
            $("#content").on("afterresize", function(){
                $("#content").append("<div>done resize</div>");
            });
        $("#content").live("afterresize", function(){
            $("#content").append("<div>fdsafd</div>");
        });
        $("#content").bind("afterresize", function(){
            $("#content").append("<div>aaaaa</div>");
        });
    });
    
</script>

</head>
<body>
    
    <div id="content" style="border:1px solid black;">
        content
    </div>
    
</body>
</html>
